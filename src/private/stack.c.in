// Auto-generated, don't edit.
// Copyright (c) 2017-2018 Nguyen Viet Giang. All rights reserved.
#include "${STACK_TYPE}_stack.h"
#include "utils.h"

aresult_t
a${STACK_TYPE}_stack_grow(
    a${STACK_TYPE}_stack_t *s, u32 more)
{
    const u32 new_cap = apowof2_ceil(s->cap + more);
    void *const items = AREALLOC(s->a, s->items, sizeof(a${STACK_TYPE}_t)*new_cap);
    if (!items) return AR_MEMORY;
    s->items = (a${STACK_TYPE}_t*)items;
    s->cap = new_cap;
    return AR_SUCCESS;
}